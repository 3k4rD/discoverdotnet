<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <title>Discover .NET</title>
        
        <link href="/bootstrap/bootstrap.css" rel="stylesheet"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-vue@2.0.0-rc.1/dist/bootstrap-vue.css" rel="stylesheet"/>
        <link href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/styles/default.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet"> 
        <link href="/assets/styles.css" rel="stylesheet"/>
        <script src="https://cdn.jsdelivr.net/npm/es6-promise/dist/es6-promise.auto.min.js"></script> 
        <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13"></script>
        <script src="https://cdn.jsdelivr.net/npm/babel-polyfill@6.26.0/dist/polyfill.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap-vue@2.0.0-rc.1/dist/bootstrap-vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/http-vue-loader@1.3.4"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios@0.17.1/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/moment@2.20.1/moment.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/highlight.min.js"></script>
        <script defer src="https://use.fontawesome.com/releases/v5.0.3/js/all.js"></script>
        <script>
            hljs.initHighlightingOnLoad();
        </script>
    </head>
    <body>
        <div id="app" class="d-flex flex-column flex-nowrap h-100">
            <header class="mb-4">
                <b-jumbotron fluid text-variant="white" class="text-center mb-0">
                    <div><a href="/"><b-img slot="header" src="/assets/logo-white.svg" fluid alt="Discover .NET" style="min-width: 50%"></b-img></a></div>
                    <div class="lead accent-script">Awesome .NET open source & community resources</div>
                </b-jumbotron>
                <b-navbar toggleable="md" type="dark" variant="dark">
                    <b-navbar-toggle target="main-nav-collapse"></b-navbar-toggle>
                    <b-collapse is-nav id="main-nav-collapse">
                        <b-container>
                            <b-navbar-nav class="float-md-left">
                                <b-nav-item href="/projects">Projects</b-nav-item>
                                <b-nav-item href="/issues">Issues</b-nav-item>
                                <b-nav-item href="/blogs">Blogs</b-nav-item>
                                <b-nav-item href="/broadcasts">Broadcasts</b-nav-item>
                                <b-nav-item href="/groups">Groups</b-nav-item>
                                <b-nav-item href="/events">Events</b-nav-item>
                                <b-nav-item href="/resources">Resources</b-nav-item>
                                <b-nav-item href="/people">People</b-nav-item>
                            </b-navbar-nav>                            
                            <b-navbar-nav class="float-md-right">
                                <b-nav-form>
                                    <b-form-input type="search" placeholder="Search"></b-form-input>
                                </b-nav-form>
                            </b-navbar-nav>
                        </b-container>
                    </b-collapse>
                </b-navbar>
            </header>
            <main>
                <b-container>
                    @RenderBody()
                </b-container>
            </main>
            <footer class="bg-dark text-center text-muted py-3 mt-5">
                <b-container>
                    <div class="mb-2">
                        <a href="/get-involved" class="text-light mr-2">Get Involved</a>
                        <a href="/suggest" class="text-light mr-2">Suggest Content</a>
                        <a href="/about" class="text-light">About</a>
                    </div>
                    <div class="small">&hearts; Generated by <a href="https://wyam.io" class="text-light">Wyam</a> on <a href="https://appveyor.com" class="text-light">AppVeyor</a> and hosted at <a href="https://netlify.com" class="text-light">Netlify</a></div>
                </b-container>
            </footer>
        </div>
        <script type="text/javascript">
            Vue.config.debug = true; 
            Vue.config.devtools = true

            // Global components
            Vue.component('description', httpVueLoader('/components/description.vue'));   
            Vue.component('small-card', httpVueLoader('/components/cards/small-card.vue'));   
            Vue.component('card', httpVueLoader('/components/cards/card.vue'));   
            Vue.component('card-grid', httpVueLoader('/components/grids/card-grid.vue'));  
            Vue.component('filter-dropdown', httpVueLoader('/components/grids/filter-dropdown.vue'));    
            Vue.component('paged-grid', httpVueLoader('/components/grids/paged-grid.vue'));       
            Vue.component('project-card', httpVueLoader('/components/cards/project-card.vue'));
            Vue.component('blog-card', httpVueLoader('/components/cards/blog-card.vue'));
            Vue.component('broadcast-card', httpVueLoader('/components/cards/broadcast-card.vue'));
            Vue.component('issue-card', httpVueLoader('/components/cards/issue-card.vue'));
            Vue.component('feed-item-card', httpVueLoader('/components/cards/feed-item-card.vue'));
            Vue.component('group-card', httpVueLoader('/components/cards/group-card.vue'));

            Vue.filter('no-protocol', function (value) {
                if (!value)
                {
                    return '';
                }
                return value.replace(/^\/\/|^.*?:(\/\/)?/, '');
            });

            Vue.filter('from-now', function (value) {
                if (!value)
                {
                    return '';
                }
                return moment(value).fromNow();
            });

            Vue.mixin({
                methods: {
                    getCard: function(cardData) {
                        var link = String(cardData.link);
                        if(link) {
                            if(link.startsWith('/projects')) {
                                return 'project-card';
                            }
                            if(link.startsWith('/blogs')) {
                                return 'blog-card';
                            }
                            if(link.startsWith('/broadcasts')) {
                                return 'broadcast-card';
                            }
                        }
                        var cardType = cardData.cardType;
                        if(cardType) {
                            if(cardType === "Group") {
                                return `group-card`;
                            }
                        }
                        return 'card';
                    }
                }
            });

            new Vue({
                el: '#app'
            });
        </script>
    </body>
</html>